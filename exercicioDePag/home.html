<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <title>Home</title>
</head>
<body>
    <div class="home">
        <nav>
            <ul class="nav-itens">
                <li>
                    <a href="home.html" class="menu">Home</a>
                </li>
                <li>
                    <a href="sobreNos.html" class="menu">Sobre Nós</a>
                </li>
            </ul>
            <div class="btn">
                <a href="#" id="openPopup"><span class="material-symbols-outlined">shopping_cart_checkout</span></a> 
            </div>
        </nav>
        <section>
            <div class="apresentação">
                <h1>Seu armario</h1>
                <p>Navegue e se inspire na moda.</p>
            </div>
        </section>
        <section>
            <section>
                <div class="imgPrincipal">
                    <img id="imgbtn" src="imagens/img_camiseta1 - 2.jpg" alt="">
                    <div class="info">
                        <p id="camisetaPreta">Camiseta Preta</p>
                        <input type="number" name="quantidade" id="iquantidade" value="1" min="1">
                        <button id="btnCarrinho">Adicionar ao carrinho</button>
                    </div>
                </div>
            </section>
        <div class="modelos">
            <h2>Principais Modelos.</h2>
        </div>
        <section class="cards">
            <div class="slots">
                <div class="img-container">
                    <img src="imagens/img_camisa_manga_longa - 3.jpg" alt="moleton branco" id="imagem1">
                </div>
                <h4>Moleton Branco</h4>
                <div class="botoes">
                    <button class="comprar" id="btn2"><a href="#">Comprar</a></button> 
                </div>
            </div>
            <div class="slots">
                <div class="img-container">
                    <img src="imagens/img_camiseta - 3.jpg" alt="Calça jeans" id="imagem2">
                </div>
                <h4>Calça Jeans</h4>
                <div class="botoes">
                    <button class="comprar" id="btn3"><a href="#">Comprar</a></button> 
                </div>
            </div>
            <div class="slots">
                <div class="img-container">
                    <img src="imagens/img_Moleton - 2.jpg" alt="moleton preto" id="imagem3">
                </div>
                <h4>Moleton Preto</h4>
                <div class="botoes">
                    <button class="comprar" id="btn4"><a href="#">Comprar</a></button> 
                </div>
            </div>
        </section>
    </div>
    <h2 class="promo">Receba Promoções</h2>
    <section class="formulario">
        <form action="contato" class="contato" id="contato">
            <div class="row">
                <input type="text" name="nome" id="inome" placeholder="Nome" required minlength="3" maxlength="50">
                <input type="email" name="email" id="iemail" placeholder="Email" required>
            </div>
            <div class="row">
                <input type="tel" name="telefone" id="itelefone" placeholder="Telefone" required maxlength="15" minlength="9">
                <input type="submit" value="Enviar">
            </div>
        </form>
    </section>

    <!-- Pop-up do Carrinho -->
    <div class="popup" id="popupCarrinho">
        <div class="popup-content">
            <span class="close" id="closePopup">&times;</span>
            <h2>Carrinho de Compras</h2>
            <div id="carrinhoItens"></div>
            <div id="carrinhoTotal"></div>
        </div>
    </div>

    <script src="./js/home.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const popup = document.getElementById('popupCarrinho');
            const closePopup = document.getElementById('closePopup');
            const carrinhoBtn = document.getElementById('openPopup');
            const carrinhoItens = document.getElementById('carrinhoItens');
            const carrinhoTotal = document.getElementById('carrinhoTotal');

            carrinhoBtn.addEventListener('click', function(event) {
                event.preventDefault(); // Impede a navegação padrão
                popup.style.display = 'block';
                mostrarCarrinho();
            });

            closePopup.addEventListener('click', function() {
                popup.style.display = 'none';
            });

            window.addEventListener('click', function(event) {
                if (event.target == popup) {
                    popup.style.display = 'none';
                }
            });

            function mostrarCarrinho() {
                const carrinho = JSON.parse(localStorage.getItem('array')) || [];
                carrinhoItens.innerHTML = '';
                let total = 0;

                carrinho.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.innerHTML = `${item.nome} - Quantidade: ${item.quantidade} - Valor: R$${item.valor}`;
                    carrinhoItens.appendChild(itemDiv);
                    total += item.valor;
                });

                carrinhoTotal.innerHTML = `Total: R$${total}`;
            }
        });
    </script>
</body>
</html>